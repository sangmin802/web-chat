(this["webpackJsonpweb-chat"]=this["webpackJsonpweb-chat"]||[]).push([[0],{57:function(e,n,o){},88:function(e,n,o){"use strict";o.r(n);var r,t,s,c,a,i,d,u=o(1),l=o.n(u),j=o(44),b=o.n(j),m=o(10),O=o(4),h=o(3),f=h.d.section(r||(r=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),g=h.d.section(t||(t=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  width: 100%;\n  padding: 0.4rem;\n  height: calc(100% - 36.1px);\n  overflow-y: scroll;\n  scrollbar-width: none;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),v=h.d.div(s||(s=Object(O.a)(["\n  margin-top: auto;\n"]))),p=h.d.form(c||(c=Object(O.a)(["\n  display: flex;\n  position: relative;\n  width: 100%;\n  height: 36px;\n  background: #222;\n  align-items: center;\n"]))),x=h.d.div(a||(a=Object(O.a)(["\n  width: 20%;\n  background-color: #222;\n  border-radius: 6px 0 0 6px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  padding-left: 0.3rem;\n"]))),D=h.d.div(i||(i=Object(O.a)(["\n  width: 70%;\n"]))),I=h.d.div(d||(d=Object(O.a)(["\n  width: 10%;\n"]))),w=o(0);var y,R,k=function(e){var n=e.chats,o=e.sendMessage,r=e.joinedUser,t=e.togglePrivateMessage,s=Object(u.useRef)(null),c=Object(u.useCallback)((function(e){var n;e.preventDefault();var r=null===s||void 0===s||null===(n=s.current)||void 0===n?void 0:n.value;r&&(o(r),e.target[0].value="")}),[o]),a=Object(u.useCallback)((function(){var e,n=null!==(e=null===r||void 0===r?void 0:r.userID)&&void 0!==e?e:null;t(n)}),[t,r]);return Object(u.useEffect)((function(){var e=document.querySelector(".chats");null===e||void 0===e||e.scrollTo(0,e.scrollHeight)}),[n]),Object(w.jsxs)(f,{className:"chat-area",children:[Object(w.jsxs)(g,{className:"chats",children:[Object(w.jsx)(v,{}),n.map((function(e,n){return Object(w.jsx)(_,{chat:e,togglePrivateMessage:t},"chat ".concat(n))}))]}),Object(w.jsxs)(p,{onSubmit:c,children:[Object(w.jsx)(x,{children:r?Object(w.jsxs)(ce,{type:"private-message",onClick:a,children:[r.userName," \uc5d0\uac8c"]}):Object(w.jsx)(ce,{type:"white",children:"\ubaa8\ub450\uc5d0\uac8c"})}),Object(w.jsx)(D,{children:Object(w.jsx)(ee,{ref:s,type:"text"})}),Object(w.jsx)(I,{children:Object(w.jsx)(Z,{children:Object(w.jsx)(ce,{type:"white",children:"\uc785\ub825"})})})]})]})},M=h.d.div(y||(y=Object(O.a)(["\n  width: 20%;\n  height: 100%;\n  overflow-y: scroll;\n  scrollbar-width: none;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  background: #222;\n"]))),U=h.d.div(R||(R=Object(O.a)(["\n  width: 80%;\n  height : 100%;\n  display: flex;\n  flex-direction: column;\n  .button-container {\n    display : flex;\n    justify-content : flex-end;\n    height : 30px;\n    button {\n      display: inline-block;\n      width: fit-content;\n      background: transparent;\n      border 1px solid #666;\n      border-radius : 3px;\n      padding : .1rem .3rem;\n      cursor : pointer;\n      margin-left : .3rem;\n    }\n  }\n"])));var E,C=function(e){var n;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(M,{className:"users",children:null===(n=e.users)||void 0===n?void 0:n.map((function(n){return Object(w.jsx)(H,{user:n,togglePrivateMessage:e.toggleJoinedUser,joinedUser:e.joinedUser},n.userID)}))}),Object(w.jsxs)(U,{children:[e.children,Object(w.jsx)(k,{chats:e.chats,sendMessage:e.sendMessage,joinedUser:e.joinedUser,togglePrivateMessage:e.toggleJoinedUser})]})]})},N=(o(57),h.d.article(E||(E=Object(O.a)(["\n  cursor: ",";\n"])),(function(e){return"ancounce"!==e.type?" pointer":"normal"})));var S,J,P,_=function(e){var n=e.chat,o=e.togglePrivateMessage,r=n.content,t=n.from,s=n.to,c=n.fromSelf,a=Object(u.useMemo)((function(){return s||t?s?c?["\ub2f9\uc2e0\uc774 ".concat(s.userName,"\uc5d0\uac8c"),"private-message"]:c?[null,"public"]:["".concat(null===t||void 0===t?void 0:t.userName,"\ub2d8\uc774 \ub2f9\uc2e0\uc5d0\uac8c"),"private-message"]:[null===t||void 0===t?void 0:t.userName,"public-message"]:["\uacf5\uc9c0","anounce-message"]}),[t,s,c]),i=Object(m.a)(a,2),d=i[0],l=i[1],j=Object(u.useCallback)((function(){if(s&&t){var e=c?s.userID:t.userID;o(e)}}),[o,c,t,s]);return Object(w.jsx)(N,{type:l,onClick:j,children:Object(w.jsxs)(ce,{type:l,children:[Object(w.jsx)("b",{children:d})," : ",r]})})},T=h.d.article(S||(S=Object(O.a)(["\n  width : calc(98% / 3);\n  height : fit-content;\n  border : 1px solid;\n  border-color : ","}\n  border-radius : 3px;\n  margin-right : 1%;\n  padding : .2rem .4rem;\n  cursor : pointer;\n\n  @media screen and (max-width: 600px) {\n    width: calc(98% / 2);\n  }\n\n  * {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n  }\n"])),(function(e){return e.isJoined?"tomato":"#444"})),L=h.d.div(J||(J=Object(O.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),A=h.d.div(P||(P=Object(O.a)(["\n  background-color: purple;\n  padding: 0.1rem 0.3rem;\n  border-radius: 3px;\n  font-size: 0.85rem;\n"])));var G,z,B=function(e){var n=e.room,o=e.enterRoom,r=e.joinRoom,t=Object(u.useCallback)((function(){if(n.isJoined)return o(n.roomID);r(n.roomID)}),[o,r,n]),s=Object(u.useMemo)((function(){return n.isJoined?[n.users[0].userName,n.users.length<2?null:n.users.length-1]:[null,null]}),[n.users,n.isJoined]),c=Object(m.a)(s,2),a=c[0],i=c[1];return Object(w.jsxs)(T,{isJoined:n.isJoined,onClick:t,children:[Object(w.jsx)(ce,{children:n.roomName}),n.isJoined?Object(w.jsxs)(L,{children:[Object(w.jsxs)(ce,{children:[a," ",i&&"+".concat(i)]}),0!==n.hasNewMessages&&Object(w.jsx)(A,{children:Object(w.jsx)(ce,{type:"white",children:n.hasNewMessages})})]}):Object(w.jsx)(ce,{children:"\ub300\ud654\ubc29\uc5d0 \ucc38\uc5ec\ud558\uc138\uc694!"})]})},V=h.d.article(G||(G=Object(O.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-item: center;\n  ",";\n  padding: 0.2rem 0.4rem;\n"])),(function(e){return e.isPrivate?"background-color : #fff; color : black":"background-color : transparent; color : #f2f2f2"})),q=h.d.div(z||(z=Object(O.a)(["\n  background-color: purple;\n  padding: 0.1rem 0.3rem;\n  border-radius: 3px;\n  font-size: 0.85rem;\n"])));var F,H=function(e){var n=e.user,o=e.togglePrivateMessage,r=e.joinedUser,t=Object(u.useCallback)((function(){n.userID&&o(n.userID)}),[o,n]);return Object(w.jsxs)(V,{isPrivate:n.userID===(null===r||void 0===r?void 0:r.userID),onClick:t,children:[Object(w.jsx)(ce,{children:n.userName}),n.messages&&0!==n.messages.hasNewMessages&&Object(w.jsx)(q,{children:Object(w.jsx)(ce,{type:"white",children:n.messages.hasNewMessages})})]})},W=o(2),K=o(20),Q=h.d.button(F||(F=Object(O.a)(["\n  width: 100%;\n  height: 100%;\n  background: none;\n  cursor: pointer;\n  padding: 0.3rem 0.2rem;\n\n  ","\n"])),(function(e){var n=e.theme,o=e.border;return n.button[o]}));var X,Y,Z=function(e){var n=e.border,o=void 0===n?"borderless":n,r=e.children,t=Object(K.a)(e,["border","children"]);return Object(w.jsx)(Q,Object(W.a)(Object(W.a)({border:o},t),{},{children:r}))},$=h.d.input(X||(X=Object(O.a)(["\n  width: 100%;\n  height: 100%;\n  border: 0;\n  padding: 0.2rem 0.4rem;\n  outline: none;\n  border-radius: 6px;\n"]))),ee=Object(u.forwardRef)((function(e,n){var o=Object.assign({},e);return Object(w.jsx)($,Object(W.a)({ref:n},o))})),ne=h.d.div(Y||(Y=Object(O.a)(["\n  width: 100%;\n  height: 100%;\n  ","\n"])),(function(e){var n=e.theme,o=e.type,r=void 0===o?"default":o;return n.font[r]}));var oe,re,te,se,ce=function(e){var n=e.children,o=e.type,r=Object(K.a)(e,["children","type"]);return Object(w.jsx)(ne,Object(W.a)(Object(W.a)({type:o},r),{},{children:n}))},ae=h.d.article(oe||(oe=Object(O.a)(["\n  display: flex;\n  height: 100%;\n  .chat-area {\n    height: 40%;\n  }\n"]))),ie=h.d.section(re||(re=Object(O.a)(["\n  height: 60%;\n  padding: 0.5rem;\n"]))),de=h.d.section(te||(te=Object(O.a)(["\n  width: 100%;\n  height: 30px;\n  display: flex;\n  justify-content: flex-end;\n\n  & button {\n    width: fit-content;\n  }\n"]))),ue=h.d.section(se||(se=Object(O.a)(["\n  height: calc(99% - 30.1px);\n  padding-top: 0.5rem;\n  display: flex;\n  flex-wrap: wrap;\n  overflow-y: scroll;\n  scrollbar-width: none;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"])));function le(e){var n=e.users,o=e.chats,r=e.rooms,t=e.joinedUser,s=e.toggleJoinedUser,c=e.joinRoom,a=e.enterRoom,i=e.createRoom,d=e.sendMessage,l=Object(u.useMemo)((function(){return Object.values(r).sort((function(e){return e.isJoined?-1:0}))}),[r]),j=Object(u.useMemo)((function(){return Object.values(n).sort((function(e,n){return e.self?-1:n.self?1:e.messages.recent>n.messages.recent?-1:0}))}),[n]);return Object(w.jsx)(ae,{children:Object(w.jsx)(C,{joinedUser:t,toggleJoinedUser:s,sendMessage:d,chats:o,users:j,children:Object(w.jsxs)(ie,{children:[Object(w.jsx)(de,{children:Object(w.jsx)(Z,{border:"border",onClick:i,children:"\ubc29 \ub9cc\ub4e4\uae30"})}),Object(w.jsx)(ue,{children:l.map((function(e){return Object(w.jsx)(B,{room:e,enterRoom:a,joinRoom:c},e.roomID)}))})]})})})}var je,be,me,Oe,he,fe,ge,ve,pe=l.a.memo(le),xe=h.d.section(je||(je=Object(O.a)(["\n  width: 300px;\n  position: relative;\n  top: 30%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),De=h.d.h2(be||(be=Object(O.a)(["\n  text-align: center;\n"]))),Ie=h.d.form(me||(me=Object(O.a)(["\n  height: 30px;\n"]))),we=h.d.div(Oe||(Oe=Object(O.a)(["\n  display: inline-block;\n  width: 80%;\n  border-bottom: 1px solid #222;\n  outline: none;\n  padding: 0.1rem 0.3rem;\n"]))),ye=h.d.div(he||(he=Object(O.a)(["\n  display: inline-block;\n  width: 20%;\n  padding: 0.1rem 0.3rem;\n  height: 100%;\n"]))),Re=function(e){var n=e.connectSocket,o=Object(u.useRef)(null),r=Object(u.useCallback)((function(e){var r;e.preventDefault();var t=null===o||void 0===o||null===(r=o.current)||void 0===r?void 0:r.value;t&&n(t)}),[n,o]);return Object(w.jsxs)(xe,{children:[Object(w.jsx)(De,{children:"Web Chat"}),Object(w.jsxs)(Ie,{onSubmit:r,children:[Object(w.jsx)(we,{children:Object(w.jsx)(ee,{ref:o,type:"text",autoComplete:"off",placeholder:"user name..."})}),Object(w.jsx)(ye,{children:Object(w.jsx)(Z,{border:"border",children:"\uc785\uc7a5"})})]})]})},ke=l.a.memo(Re),Me=h.d.article(fe||(fe=Object(O.a)(["\n  display: flex;\n  height: 100%;\n  .chat-area {\n    height: calc(100% - 46.1px);\n  }\n"]))),Ue=h.d.section(ge||(ge=Object(O.a)(["\n  padding: 0.5rem;\n  height: fit-content;\n"]))),Ee=h.d.section(ve||(ve=Object(O.a)(["\n  width: 100%;\n  height: 30px;\n  display: flex;\n  justify-content: flex-end;\n\n  & button {\n    width: fit-content;\n    margin-left: 0.3rem;\n  }\n"])));function Ce(e){var n=e.joinedRoom,o=e.joinedUser,r=e.leaveRoom,t=e.goLoby,s=e.toggleJoinedUser,c=e.sendMessage,a=Object(u.useCallback)((function(){r(n.roomID)}),[r,n]);return Object(w.jsx)(Me,{children:Object(w.jsx)(C,{joinedUser:o,toggleJoinedUser:s,sendMessage:c,chats:n.messages,users:n.users,children:Object(w.jsx)(Ue,{children:Object(w.jsxs)(Ee,{children:[Object(w.jsx)(Z,{border:"border",onClick:a,children:"\ub098\uac00\uae30"}),Object(w.jsx)(Z,{border:"border",onClick:t,children:"\ub85c\ube44\ub85c \uc774\ub3d9"})]})})})})}var Ne=l.a.memo(Ce),Se=o(48),Je=Object(Se.io)("https://web-chat-sangmin-server.herokuapp.com/web-chat",{autoConnect:!1});Je.onAny((function(e){}));var Pe,_e,Te="USER_CONNECTED",Le="USER_DISCONNECTED",Ae="TOGGLE_JOINED_USER",Ge="LEAVE_ROOM",ze="JOIN_ROOM",Be="CREATE_ROOM",Ve="DELETE_ROOM",qe="ENTER_ROOM",Fe="SET_USERS_ROOMS",He="PRIVATE_MESSAGE",We="PUBLIC_MESSAGE",Ke="ROOM_MESSAGE",Qe=o(13),Xe=o(11),Ye={chats:[],users:{},rooms:{},joinedRoomID:null,joinedUser:null};function Ze(e,n){switch(n.type){case Fe:var o=n.rooms,r=n.users,t={},s={};return o.forEach((function(n){e.rooms[n.roomID]&&(t[n.roomID]=e.rooms[n.roomID]),e.rooms[n.roomID]||(t[n.roomID]=n)})),r.forEach((function(n){e.users[n.userID]&&(s[n.userID]=e.users[n.userID]),e.users[n.userID]||(s[n.userID]=n)})),Object(W.a)(Object(W.a)({},e),{},{users:s,rooms:t,joinedRoomID:null});case qe:var c=n.roomID,a=Object(W.a)({},e.rooms);return a[c]=Object(W.a)(Object(W.a)({},e.rooms[c]),{},{hasNewMessages:0}),Object(W.a)(Object(W.a)({},e),{},{rooms:a,joinedRoomID:c});case ze:var i=n.roomID,d=n.userID,u=n.roomUsers,l=n.userName,j=Object(W.a)({},e.rooms[i]),b=Je.userID===d;j.isJoined=!0;var m=u.map((function(e){return e.self=!1,e.userID===Je.userID&&(e.self=!0),e}));j.users=m,j.messages.push({content:"".concat(l,"\ub2d8\uc774 \uc785\uc7a5\ud558\uc168\uc2b5\ub2c8\ub2e4.")});var O=Object(W.a)(Object(W.a)({},e.rooms),{},Object(Xe.a)({},i,j));return Object(W.a)(Object(W.a)({},e),{},{rooms:O,joinedRoomID:b?i:e.joinedRoomID});case Ge:var h=n.roomID,f=n.roomUsers,g=n.userID,v=n.userName,p=n.users,x=n.rooms;if(Je.userID===g){var D={},I={};return x.forEach((function(n){e.rooms[n.roomID]&&(D[n.roomID]=e.rooms[n.roomID]),e.rooms[n.roomID]||(D[n.roomID]=n)})),p.forEach((function(n){e.users[n.userID]&&(I[n.userID]=e.users[n.userID]),e.users[n.userID]||(I[n.userID]=n)})),Object(W.a)(Object(W.a)({},e),{},{rooms:D,users:I,joinedRoomID:null})}var w=Object(W.a)({},e.rooms[h]);w.users=f,w.messages.push({content:"".concat(v,"\ub2d8\uc774 \ud1f4\uc7a5\ud558\uc168\uc2b5\ub2c8\ub2e4.")});var y=Object(W.a)(Object(W.a)({},e.rooms),{},Object(Xe.a)({},h,w));return Object(W.a)(Object(W.a)({},e),{},{rooms:y});case Ke:var R=n.message,k=n.roomID,M=Object(W.a)({},e.rooms[k]),U=[].concat(Object(Qe.a)(M.messages),[R]);M.messages=U,e.joinedRoomID||M.hasNewMessages++;var E=Object(W.a)(Object(W.a)({},e.rooms),{},Object(Xe.a)({},k,M));return Object(W.a)(Object(W.a)({},e),{},{rooms:E});case He:var C,N,S=n.message,J=S.from.userID===Je.userID,P=Object(W.a)({},e.rooms),_=Object(Qe.a)(e.chats),T=Object(W.a)({},e.users),L=T[null===(C=S.from)||void 0===C?void 0:C.userID];if(_.push(Object(W.a)(Object(W.a)({},S),{},{fromSelf:J})),e.joinedRoomID){var A=Object(W.a)({},P[e.joinedRoomID]);A.messages.push(Object(W.a)(Object(W.a)({},S),{},{fromSelf:J})),P[e.joinedRoomID]=A}return J||(null===(N=e.joinedUser)||void 0===N?void 0:N.userID)===L.userID||(L.messages.hasNewMessages++,L.messages.recent=new Date),Object(W.a)(Object(W.a)({},e),{},{rooms:P,chats:_,users:T});case We:var G=n.message,z=[].concat(Object(Qe.a)(e.chats),[Object(W.a)({},G)]);return Object(W.a)(Object(W.a)({},e),{},{chats:z});case Ae:var B,V=n.userID,q=e.users[V],F=(null===(B=e.joinedUser)||void 0===B?void 0:B.userID)===V?null:Object(W.a)({},q),H=Object(W.a)({},e.users);return H[V].messages.hasNewMessages=0,Object(W.a)(Object(W.a)({},e),{},{users:H,joinedUser:F});case Te:var K=n.user,Q=Object(W.a)(Object(W.a)({},e.users),{},Object(Xe.a)({},K.userID,K)),X=[].concat(Object(Qe.a)(e.chats),[{content:"".concat(K.userName,"\ub2d8\uc774 \uc785\uc7a5\ud558\uc168\uc2b5\ub2c8\ub2e4.")}]);return Object(W.a)(Object(W.a)({},e),{},{users:Q,chats:X});case Le:var Y,Z=n.userID,$=n.userName,ee=Object(Qe.a)(e.chats),ne={},oe=Object.values(e.users),re=(null===(Y=e.joinedUser)||void 0===Y?void 0:Y.userID)===Z,te=e.joinedUser,se="".concat($,"\ub2d8\uc774 \ud1f4\uc7a5\ud558\uc168\uc2b5\ub2c8\ub2e4.");return re&&(se="\uadd3\uc18d\ub9d0 \ub300\uc0c1\uc778 ".concat($,"\ub2d8\uc774 \ud1f4\uc7a5\ud558\uc168\uc2b5\ub2c8\ub2e4."),te=null),ee.push({content:se}),oe.forEach((function(e){e.userID!==Z&&(ne[e.userID]=e)})),Object(W.a)(Object(W.a)({},e),{},{chats:ee,users:ne,joinedUser:te});case Be:var ce=n.room,ae=ce.creater===Je.userID?ce.roomID:e.joinedRoomID,ie=ce.creater===Je.userID;ce.isJoined=ie;var de=Object(W.a)(Object(W.a)({},e.rooms),{},Object(Xe.a)({},ce.roomID,ce));return Object(W.a)(Object(W.a)({},e),{},{rooms:de,joinedRoomID:ae});case Ve:var ue=n.roomID,le={};return Object.values(e.rooms).forEach((function(e){e.roomID!==ue&&(le[e.roomID]=e)})),Object(W.a)(Object(W.a)({},e),{},{rooms:le});default:return e}}var $e=h.d.div(Pe||(Pe=Object(O.a)(["\n  max-width: 900px;\n  min-width: 300px;\n  margin: 0 auto;\n  height: 100vh;\n"]))),en=h.d.main(_e||(_e=Object(O.a)(["\n  width: 100%;\n  height: 100%;\n"])));var nn,on,rn,tn,sn,cn,an=function(){var e=Object(u.useState)(!1),n=Object(m.a)(e,2),o=n[0],r=function(e){var n=Object(u.useReducer)(Ze,Ye),o=Object(m.a)(n,2),r=o[0],t=o[1],s=r.joinedRoomID,c=Object(u.useCallback)((function(){Je.emit("go loby")}),[]),a=Object(u.useCallback)((function(e){e!==Je.userID&&t({type:Ae,userID:e})}),[]),i=Object(u.useCallback)((function(e){var n=e.content,o=e.roomID;Je.emit("room message",{content:n,roomID:o})}),[]),d=Object(u.useCallback)((function(e){Je.emit("private message",e)}),[]),l=Object(u.useCallback)((function(e){Je.emit("public message",e)}),[]),j=Object(u.useCallback)((function(){Je.emit("create room")}),[]),b=Object(u.useCallback)((function(e){Je.emit("join room",e)}),[]),O=Object(u.useCallback)((function(e){t({type:qe,roomID:e})}),[]),h=Object(u.useCallback)((function(e){Je.emit("leave room",e)}),[]),f=Object(u.useCallback)((function(n){e(!0),Je.auth={userName:n},Je.connect()}),[e]);return Object(u.useEffect)((function(){return Je.on("session",(function(e){Je.userID=e})),Je.on("users rooms",(function(e){var n=e.users,o=e.rooms;t({type:Fe,users:n,rooms:o})})),Je.on("join room",(function(e){var n=e.roomUsers,o=e.userID,r=e.userName,s=e.roomID;t({type:ze,roomUsers:n,userID:o,userName:r,roomID:s})})),Je.on("leave room",(function(e){var n=e.roomUsers,o=e.userID,r=e.userName,s=e.roomID,c=e.users,a=e.rooms;t({type:Ge,roomUsers:n,userID:o,userName:r,roomID:s,users:c,rooms:a})})),Je.on("room message",(function(e){var n=e.message,o=e.roomID;t({type:Ke,message:n,roomID:o})})),Je.on("private message",(function(e){t({type:He,message:e})})),function(){Je.disconnect()}}),[]),Object(u.useEffect)((function(){return s||(Je.on("room created",(function(e){t({type:Be,room:e})})),Je.on("delete room",(function(e){t({type:Ve,roomID:e})})),Je.on("public message",(function(e){t({type:We,message:e})})),Je.on("user connected",(function(e){t({type:Te,user:e})})),Je.on("user disconnected",(function(e){var n=e.userID,o=e.userName;t({type:Le,userID:n,userName:o})}))),function(){Je.off("room created"),Je.off("delete room"),Je.off("public message"),Je.off("user connected"),Je.off("user disconnected")}}),[s]),{state:r,handleGoLoby:c,handleEnterRoom:O,handleToggleJoinedUser:a,handleSendRoomMessage:i,handleSendPrivateMessage:d,handleSendPublicMessage:l,handleCreateRoom:j,handleJoinRoom:b,handleLeaveRoom:h,handleConnectSocket:f}}(n[1]),t=r.state,s=t.chats,c=t.users,a=t.rooms,i=t.joinedRoomID,d=t.joinedUser,l=Object(u.useCallback)((function(e){return d?r.handleSendPrivateMessage({content:e,to:d}):i?r.handleSendRoomMessage({content:e,roomID:i}):r.handleSendPublicMessage(e)}),[d,i]);return Object(w.jsx)($e,{children:Object(w.jsxs)(en,{children:[!o&&Object(w.jsx)(ke,{connectSocket:r.handleConnectSocket}),o&&i&&Object(w.jsx)(Ne,{joinedRoom:a[i],joinedUser:d,leaveRoom:r.handleLeaveRoom,goLoby:r.handleGoLoby,toggleJoinedUser:r.handleToggleJoinedUser,sendMessage:l}),o&&!i&&Object(w.jsx)(pe,{users:c,chats:s,rooms:a,joinedUser:d,toggleJoinedUser:r.handleToggleJoinedUser,joinRoom:r.handleJoinRoom,enterRoom:r.handleEnterRoom,createRoom:r.handleCreateRoom,sendMessage:l})]})})},dn={font:{white:Object(h.c)(nn||(nn=Object(O.a)(["\n      color: #fff;\n    "]))),"private-message":Object(h.c)(on||(on=Object(O.a)(["\n      color: rgba(245, 81, 226, 1);\n    "]))),"anounce-message":Object(h.c)(rn||(rn=Object(O.a)(["\n      color: green;\n    "])))},button:{borderless:Object(h.c)(tn||(tn=Object(O.a)(["\n      border: 0;\n    "]))),border:Object(h.c)(sn||(sn=Object(O.a)(["\n      border: 1px solid black;\n      border-radius: 3px;\n    "])))}},un=Object(h.b)(cn||(cn=Object(O.a)(["\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n"])));b.a.render(Object(w.jsxs)(h.a,{theme:dn,children:[Object(w.jsx)(un,{}),Object(w.jsx)(an,{})]}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.8803cd5c.chunk.js.map