## ğŸ‘ web-socket

- socket.io
- React.js
- node.js
- gh-pages
- heroku

## ğŸ server express + socket.io

- [web-chat-server](https://github.com/sangmin802/web-chat-server)

## ğŸ– socket.io ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê°¯ìˆ˜

### ğŸ» 2ê°œ

1. `/loby`
2. `/rooms`

### ğŸº 1ê°œ

1. `/chat`

- ë³¸ë˜ëŠ” ë‘ê°œì˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¡œ `loby`ì™€ `rooms` ì˜ `socket.io` ì„œë²„ë¥¼ êµ¬ë¶„í•  ê¹Œ í•˜ë‹¤ê°€, ê·¸ëƒ¥ í•˜ë‚˜ì˜ ì„œë²„ë¥¼ ì‚¬ìš©í•˜ê³  `loby` ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ì‹œ, ì „ì²´ì±„íŒ… ì´ë²¤íŠ¸ì— ëŒ€í•œ ì—°ê²°ì„ ì·¨ì†Œí•˜ê³ , ê·“ì†ë§ì„ ìœ„í•œ `userID room`ì„ `leave` í•˜ëŠ”ê²Œ ë” ë‚˜ì„ë“¯ í•¨.

## ğŸ“ êµ¬ì¡°

- ğŸ”´ : ì„œë²„
- ğŸ”µ : í´ë¼ì´ì–¸íŠ¸

### ğŸ­ log-in

- ì‚¬ìš©ìì˜ ì•„ì´ë””ë¥¼ ì§€ì •í•˜ëŠ” ì»´í¬ë„ŒíŠ¸

### ğŸ¥ loby

- ìœ ì €ë¦¬ìŠ¤íŠ¸, ë°©ë¦¬ìŠ¤íŠ¸, ì „ì²´ì±„íŒ…Â·ê·“ì†ë§ ë‚´ìš© ì¶œë ¥
- ëª¨ë“  ìœ ì €ì™€ ì „ì²´ì±„íŒ…ì„ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸
- íŠ¹ì • ìœ ì €ì™€ ê·“ì†ë§ì„ í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸
  > ë©”ì‹œì§€ ë‚´ìš©ì„ ë™ì¼í•œ `view`ì— ë…¸ì¶œì‹œí‚¤ì§€ë§Œ, ìƒ‰ìƒì„ ë‹¤ë¥´ê²Œ
- ê¸°ë³¸ `/`ì˜ `socket.io` ì„œë²„ê°€ ì•„ë‹Œ ì»¤ìŠ¤í…€ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ `/loby`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ë¥¼ ìƒì„±í•˜ë„ë¡ í•¨.
- ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ í•´ë‹¹ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ ì„œë²„ëŠ” ì¢…ë£Œì‹œì¼œì„œ ìƒˆë¡œìš´ ë©”ì‹œì§€ ì•ŒëŒì„ ë°›ì§€ ì•Šë„ë¡ í•¨
- `/loby` ì„œë²„ì—ì„œëŠ” ì‚¬ìš©ìì˜ `userID`ë¥¼ `room`ìœ¼ë¡œ ìƒì„±í•˜ì—¬ ì›í•˜ëŠ” `userID`ì—ê²Œë§Œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë„ë¡ í•¨
  > `io.of('/loby').to(userID).emit`?
- ì „ì²´ì±„íŒ…ì˜ ê²½ìš° ëª¨ë“  ì‚¬ìš©ìê°€ ë³¼ ìˆ˜ ìˆë„ë¡ ë©”ì‹œì§€ ì „ë‹¬
  > `io.of('/loby').emit`?
- `loby` ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ, í•´ë‹¹ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ ì„œë²„ì— ì ‘ì†í•œ ëª¨ë“  ìœ ì € ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°›ì•„ì™€ ì¢Œì¸¡ì— ì¶œë ¥
- `loby` ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ, `socket.io`ì˜ `/rooms` ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì„œë²„ì— ë“±ë¡ëœ ëª¨ë“  `room`ë“¤ì„ ë°›ì•„ì™€ ìš°ì¸¡ ìƒë‹¨ì— ì¶œë ¥
  > ë‚´ê°€ ì°¸ì—¬ì¤‘ì¸ ë°©ê³¼, ê°œì„¤ëœ ë°© êµ¬ë¶„
- ì°¸ì—¬ì¤‘ì¸ ë°©ì˜ ê²½ìš°, ìƒˆë¡œìš´ ë©”ì‹œì§€ ìˆ˜ì‹  ì‹œ ìƒˆë¡œìš´ ë©”ì‹œì§€ ê°¯ìˆ˜ ë…¸ì¶œ
  > ì¹´ì¹´ì˜¤í†¡ì²˜ëŸ¼
- ìƒì„±ë˜ì–´ìˆëŠ” `room` í´ë¦­ ì‹œ, `/rooms` ì˜ roomì— `join`
  > `socket.join(room)`?

### ğŸ¥¯ room

- [ ] ğŸ”µ ë°© ìƒì„±ì„ ìœ„í•´ `room` ìƒì„± ë²„íŠ¼ í´ë¦­

  - [ ] ğŸ”µ `roomName` ì†ì„± ì§€ì • í›„ ì„œë²„ì˜ `craete room` ì´ë²¤íŠ¸ í˜¸ì¶œ

- [ ] ğŸ”´ `craete room` ìˆ˜ì‹ 

  - [ ] ğŸ”´ `room store class`ì— `room` ì •ë³´ ì¶”ê°€
  - [ ] ğŸ”´ ëª¨ë“  ìœ ì €ì—ê²Œ ìƒì„±ëœ `room` ì •ë³´ ì „ë‹¬ì„ ìœ„í•œ `room created` í˜¸ì¶œ

```ts
// ëŒ€ëµì ì¸ room êµ¬ì¡°
interface room {
  creater: string;
  isJoined: boolean = false;
  roomID: string;
  roomName: string;
  users: { userName: string; userID: string }[];
  messages: { content: string; from: string }[];
}
```

- [ ] ğŸ”µ `room created` ìˆ˜ì‹ 

  - [ ] ğŸ”µ `room.creater`ê°€ `socket.userID`ì™€ ë™ì¼í•˜ë©´ `join room` ë°”ë¡œ í˜¸ì¶œ
  - [ ] ğŸ”µ `rooms` ìƒíƒœê°’ì— í•´ë‹¹ `room` ì •ë³´ ì¶”ê°€

- [ ] ğŸ”µ ë°©ì— ë“¤ì–´ê°€ê¸° ìœ„í•´ `join room` í˜¸ì¶œ

- [ ] ğŸ”´ `join room` ìˆ˜ì‹ 

  - [ ] ğŸ”´ í˜¸ì¶œí•œ `socket.userID`ëŠ” `socket.join(roomID)`ë¡œ ì°¸ê°€
  - [ ] ğŸ”´ `room store`ì— í•´ë‹¹ `roomID`ì˜ `users`ì— í•´ë‹¹ `socket` ìœ ì € ì •ë³´ ì¶”ê°€
  - [ ] ğŸ”´ ìˆ˜ì •ëœ `room`ì„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°˜í™˜. `update room` í˜¸ì¶œ
  - [ ] ğŸ”´ í•´ë‹¹ `roomID`ì— ê°€ì…í•œ ìœ ì €ë“¤ì—ê²Œë§Œ `.to('roomID').emit`ìœ¼ë¡œ ì…ì¥ ë©”ì‹œì§€ ì•Œë¦¼ `room message`

- [ ] ğŸ”µ `update room` ìˆ˜ì‹ 

  - [ ] ğŸ”µ ë°›ì•„ì˜¨ ìƒˆë¡œìš´ `room` ì˜ `users`ì— ìì‹ ì¸ `socket.id`ê°€ ë“¤ì–´ìˆë‹¤ë©´ `isJoined : true`ë¡œ ë³€ê²½
  - [ ] ğŸ”µ `rooms` ìƒíƒœê°’ì— í•´ë‹¹ `room` ì •ë³´ ì¶”ê°€

- ë©”ì‹œì§€ ìˆ˜ì‹ ê´€ë ¨ ì¶”ê°€í•„ìš”
